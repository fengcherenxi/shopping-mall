(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"0eaf":function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),r=Object(a["U"])("data-v-2adef164");Object(a["C"])("data-v-2adef164");var c={class:"simple-header van-hairline--bottom"},o={key:1},i={class:"simple-header-name"},u=Object(a["j"])("i",{class:"nbicon nbmore"},null,-1),s=Object(a["j"])("div",{class:"block"},null,-1);Object(a["A"])();var l=r((function(e,t,n,r,l,d){return Object(a["z"])(),Object(a["f"])(a["a"],null,[Object(a["j"])("header",c,[r.isback?(Object(a["z"])(),Object(a["f"])("i",o,"      ")):(Object(a["z"])(),Object(a["f"])("i",{key:0,class:"nbicon nbfanhui",onClick:t[1]||(t[1]=function(){return r.goBack.apply(r,arguments)})})),Object(a["j"])("div",i,Object(a["L"])(n.name),1),u]),s],64)})),d=n("6c02"),f={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup:function(e,t){var n=Object(a["E"])(e.noback),r=Object(d["d"])(),c=function(){e.back?r.push({path:e.back}):r.go(-1),t.emit("callback")};return{goBack:c,isback:n}}};n("122a");f.render=l,f.__scopeId="data-v-2adef164";t["a"]=f},"122a":function(e,t,n){"use strict";n("89b7")},"348b":function(e,t,n){"use strict";n("e660")},"89b7":function(e,t,n){},"99af":function(e,t,n){"use strict";var a=n("23e7"),r=n("d039"),c=n("e8b5"),o=n("861d"),i=n("7b0b"),u=n("50c4"),s=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),b=n("2d00"),j=f("isConcatSpreadable"),O=9007199254740991,p="Maximum allowed index exceeded",g=b>=51||!r((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),h=d("concat"),m=function(e){if(!o(e))return!1;var t=e[j];return void 0!==t?!!t:c(e)},v=!g||!h;a({target:"Array",proto:!0,forced:v},{concat:function(e){var t,n,a,r,c,o=i(this),d=l(o,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(c=-1===t?o:arguments[t],m(c)){if(r=u(c.length),f+r>O)throw TypeError(p);for(n=0;n<r;n++,f++)n in c&&s(d,f,c[n])}else{if(f>=O)throw TypeError(p);s(d,f++,c)}return d.length=f,d}})},"99c5":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return s}));var a=n("a27e");function r(e){return a["a"].post("api/saveOrder",e)}function c(e){return a["a"].get("api/order",{params:e})}function o(e){return a["a"].get("api/order/".concat(e))}function i(e){return a["a"].put("api/order/".concat(e,"/cancel"))}function u(e){return a["a"].put("api/order/".concat(e,"/finish"))}function s(e){return a["a"].get("api/paySuccess",{params:e})}},b0c0:function(e,t,n){var a=n("83ab"),r=n("9bf2").f,c=Function.prototype,o=c.toString,i=/^\s*function ([^ (]*)/,u="name";a&&!(u in c)&&r(c,u,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},cf2a:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=Object(a["U"])("data-v-3b0600d2");Object(a["C"])("data-v-3b0600d2");var c={class:"order-box"},o={class:"content"},i={class:"order-item-header"};Object(a["A"])();var u=r((function(e,t,n,u,s,l){var d=Object(a["H"])("s-header"),f=Object(a["H"])("van-tab"),b=Object(a["H"])("van-tabs"),j=Object(a["H"])("van-card"),O=Object(a["H"])("van-list"),p=Object(a["H"])("van-pull-refresh");return Object(a["z"])(),Object(a["f"])("div",c,[Object(a["j"])(d,{name:"我的订单",back:"/user"}),Object(a["j"])(b,{onClick:u.onChangeTab,color:"#1baeae","title-active-color":"#1baeae",class:"order-tab",modelValue:e.status,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.status=t})},{default:r((function(){return[Object(a["j"])(f,{title:"全部",name:""}),Object(a["j"])(f,{title:"待付款",name:"0"}),Object(a["j"])(f,{title:"待确认",name:"1"}),Object(a["j"])(f,{title:"待发货",name:"2"}),Object(a["j"])(f,{title:"已发货",name:"3"}),Object(a["j"])(f,{title:"交易完成",name:"4"})]})),_:1},8,["onClick","modelValue"]),Object(a["j"])("div",o,[Object(a["j"])(p,{modelValue:e.refreshing,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.refreshing=t}),onRefresh:u.onRefresh,class:"order-list-refresh"},{default:r((function(){return[Object(a["j"])(O,{loading:e.loading,"onUpdate:loading":t[2]||(t[2]=function(t){return e.loading=t}),finished:e.finished,"finished-text":"没有更多了",onLoad:u.onLoad,onOffset:t[3]||(t[3]=function(e){return 10})},{default:r((function(){return[(Object(a["z"])(!0),Object(a["f"])(a["a"],null,Object(a["F"])(e.list,(function(t,n){return Object(a["z"])(),Object(a["f"])("div",{key:n,class:"order-item-box",onClick:function(e){return u.goTo(t.orderNo)}},[Object(a["j"])("div",i,[Object(a["j"])("span",null,"订单时间："+Object(a["L"])(t.createTime),1),Object(a["j"])("span",null,Object(a["L"])(t.orderStatusString),1)]),(Object(a["z"])(!0),Object(a["f"])(a["a"],null,Object(a["F"])(t.newBeeMallOrderItemVOS,(function(t){return Object(a["z"])(),Object(a["f"])(j,{key:t.orderId,num:t.goodsCount,price:t.sellingPrice,desc:"全场包邮",title:t.goodsName,thumb:e.$filters.prefix(t.goodsCoverImg)},null,8,["num","price","title","thumb"])})),128))],8,["onClick"])})),128))]})),_:1},8,["loading","finished","onLoad"])]})),_:1},8,["modelValue","onRefresh"])])])})),s=(n("99af"),n("5530")),l=(n("96cf"),n("1da1")),d=n("0eaf"),f=n("99c5"),b=n("6c02"),j={name:"Order",components:{sHeader:d["a"]},setup:function(){var e=Object(b["d"])(),t=Object(a["D"])({status:"",loading:!1,finished:!1,refreshing:!1,list:[],page:1,totalPage:0}),n=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["e"])({pageNumber:t.page,status:t.status});case 2:n=e.sent,a=n.data,r=n.data.list,t.list=t.list.concat(r),t.totalPage=a.totalPage,t.loading=!1,t.page>=a.totalPage&&(t.finished=!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(e){t.status=e,u()},c=function(t){e.push({path:"/order-detail",query:{id:t}})},o=function(){e.go(-1)},i=function(){!t.refreshing&&t.page<t.totalPage&&(console.log(t.page),console.log(t.totalPage),t.page=t.page+1),t.refreshing&&(t.list=[],t.refreshing=!1),n()},u=function(){t.refreshing=!0,t.finished=!1,t.loading=!0,t.page=1,i()};return Object(s["a"])(Object(s["a"])({},Object(a["M"])(t)),{},{onChangeTab:r,goTo:c,goBack:o,onLoad:i,onRefresh:u})}};n("348b");j.render=u,j.__scopeId="data-v-3b0600d2";t["default"]=j},e660:function(e,t,n){}}]);
//# sourceMappingURL=order.2d29fbf8.js.map